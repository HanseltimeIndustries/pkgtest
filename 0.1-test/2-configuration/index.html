
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../1-getting-started/">
      
      
        <link rel="next" href="../3-dependency-lookup/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>Configuration - @hanseltime/pkgtest</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d7758b05.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="@hanseltime/pkgtest" class="md-header__button md-logo" aria-label="@hanseltime/pkgtest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            @hanseltime/pkgtest
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../1-getting-started/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Configuration

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../3-dependency-lookup/" class="md-tabs__link">
        
  
    
  
  Dependencies of Test Projects

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../4-CONTRIBUTING/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/" class="md-tabs__link">
          
  
  Api

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="@hanseltime/pkgtest" class="md-nav__button md-logo" aria-label="@hanseltime/pkgtest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    @hanseltime/pkgtest
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matchrootdir" class="md-nav__link">
    <span class="md-ellipsis">
      matchRootdir
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matchignore" class="md-nav__link">
    <span class="md-ellipsis">
      matchIgnore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additionaldependencies" class="md-nav__link">
    <span class="md-ellipsis">
      additionalDependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-entries" class="md-nav__link">
    <span class="md-ellipsis">
      Test Entries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test Entries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-example-of-multiple-test-entries" class="md-nav__link">
    <span class="md-ellipsis">
      An example of multiple test entries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-entry-options" class="md-nav__link">
    <span class="md-ellipsis">
      Test Entry Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test Entry Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testmatch" class="md-nav__link">
    <span class="md-ellipsis">
      testMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packagemanagers" class="md-nav__link">
    <span class="md-ellipsis">
      packageManagers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="packageManagers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-package-manager-types" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Package Manager Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-package-manager-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Package Manager Configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Package Manager Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Example Scenario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moduletypes" class="md-nav__link">
    <span class="md-ellipsis">
      moduleTypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runwith" class="md-nav__link">
    <span class="md-ellipsis">
      runWith
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additionaldependencies_1" class="md-nav__link">
    <span class="md-ellipsis">
      additionalDependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transforms" class="md-nav__link">
    <span class="md-ellipsis">
      transforms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transforms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typescript" class="md-nav__link">
    <span class="md-ellipsis">
      typescript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-dependency-lookup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependencies of Test Projects
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4-CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Api
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Classes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/classes/FailFastError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FailFastError
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Enumerations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Enumerations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/ModuleTypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ModuleTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/PkgManager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/RunWith/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RunWith
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/functions/run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/InstalledTool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InstalledTool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/PkgManagerBaseOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerBaseOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/PkgManagerOptionsConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerOptionsConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/RunOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RunOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TestConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TestConfigEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestConfigEntry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TsNodeRun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TsNodeRun
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TsxRun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TsxRun
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TypescriptOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TypescriptOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/YarnV4Options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YarnV4Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type aliases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Type aliases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/PkgManagerOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerOptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Variables
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Variables
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/variables/DEFAULT_TIMEOUT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DEFAULT TIMEOUT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matchrootdir" class="md-nav__link">
    <span class="md-ellipsis">
      matchRootdir
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matchignore" class="md-nav__link">
    <span class="md-ellipsis">
      matchIgnore
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additionaldependencies" class="md-nav__link">
    <span class="md-ellipsis">
      additionalDependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-entries" class="md-nav__link">
    <span class="md-ellipsis">
      Test Entries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test Entries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-example-of-multiple-test-entries" class="md-nav__link">
    <span class="md-ellipsis">
      An example of multiple test entries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-entry-options" class="md-nav__link">
    <span class="md-ellipsis">
      Test Entry Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test Entry Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testmatch" class="md-nav__link">
    <span class="md-ellipsis">
      testMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packagemanagers" class="md-nav__link">
    <span class="md-ellipsis">
      packageManagers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="packageManagers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-package-manager-types" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Package Manager Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-package-manager-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Package Manager Configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Package Manager Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Example Scenario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moduletypes" class="md-nav__link">
    <span class="md-ellipsis">
      moduleTypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runwith" class="md-nav__link">
    <span class="md-ellipsis">
      runWith
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additionaldependencies_1" class="md-nav__link">
    <span class="md-ellipsis">
      additionalDependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transforms" class="md-nav__link">
    <span class="md-ellipsis">
      transforms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transforms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typescript" class="md-nav__link">
    <span class="md-ellipsis">
      typescript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="configuration">Configuration</h1>
<p><code>pkgtest</code> is configured by a <code>pkgtest.config.[json|js|cjs|mjs|ts]</code> file at the root of the package you want to test.</p>
<p>The following will discuss the main concepts of the configuration file, but you can always check the <a href="../api/interfaces/TestConfig/">Config interface docs</a>
for a full set of features.</p>
<h2 id="matchrootdir">matchRootdir</h2>
<p>This is a relative path to the directory with the <code>pkgtest.config</code> file that limits where any <code>testMatch</code> patterns are applied relatively.  This is
helpful for:</p>
<ol>
<li>reducing time to find tests (by minimizing the number of files to scan)</li>
<li>simplifying testMatch patterns to not have to worry about matching the other files (i.e. *<em>/</em>.ts will only match in the matchRootDir)</li>
</ol>
<p>Default: <code>./</code></p>
<h2 id="matchignore">matchIgnore</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Isolating your pkgtests to a single directory can negate the need to keep lots of matchIgnores since the folder will presumably only hold the tests you want</p>
</div>
<p>matchIgnore can take a list of glob patterns that will cause <code>pkgtest</code> to skip any search activity.  This is helpful for the same reasons as
<code>matchRootDir</code>.</p>
<p>Default: <code>**/node_modules/**, **/.yarn/**, **/.git/**</code></p>
<h2 id="additionaldependencies">additionalDependencies</h2>
<p>Additional Dependencies allows you to declare other packages that you want to include in each of the test projects that are created.  At the top level,
this means these dependencies will be added to every test entry (but will be overridden by any explicit <code>additionalDependencies</code> at the test entry level).</p>
<p>This is useful for more complex package test scripts:</p>
<div class="highlight"><span class="filename">pkgtests/test1.ts</span><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">camelCase</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;lodash&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">someCamcelCaseFunc</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@myscope/mypkg&#39;</span>

<span class="nx">someCamelCaseFunc</span><span class="p">(</span><span class="nx">cameCase</span><span class="p">(</span><span class="s1">&#39;special-string&#39;</span><span class="p">))</span>
</code></pre></div>
<p>In that case, we would add:</p>
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="w">    </span><span class="nx">additionalDependencies</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">lodash</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;^4.17.21&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Remember for typescript files to add the <code>@types/</code> dependency if the library doesn't export its own types.  You will run into typescript compilation
errors about not being able to find declarations if not!</p>
</div>
<h2 id="test-entries">Test Entries</h2>
<p>If you've read <a href="./getting-started.md">Getting Started</a>, then you will probably have noticed that a single entry in the entries array can
create many Test Suites.  While you technically could create multiple entries to do the same thing as we did in getting started, that would make
your configuration file very repetitive and tedious to update or maintain.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As a general rule of thumb, a test entry is a dividing line along test matches and transforms.</p>
</div>
<h3 id="an-example-of-multiple-test-entries">An example of multiple test entries</h3>
<p>Normally, a single test entry that uses typescript as a transform and runs Node would be enough to test rendered js.  However,
for the sake of this example, let's say that we had a desire to use .ts files (proving our package works with transpilation) and
then to also use specifically compiled commonjs and es module javascript for some specific testing reason (perhaps typescript won't
transpile a less safe feature in js that we want to support).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">pkgtests/ts/test1.ts</label><label for="__tabbed_1_2">pkgtests/cjs/testSpecial1.js</label><label for="__tabbed_1_3">pkgtests/esm/testSpecial1.js</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>import { func1 } from &#39;@myscope/mypkg&#39;

func1();
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>const { funcSpecial } = require(&#39;@myscope/mypkt&#39;)
// Let&#39;s pretend this is something exotic for cjs
funcSpecial();
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>import { funcSpecial } from &#39;@myscope/mypkg&#39;
// Let&#39;s pretend this is something exotic for esm
funcSpecial();
</code></pre></div>
</div>
</div>
</div>
<p>In this case, we would need 3 test entries since we'll have:</p>
<ul>
<li>one that applies transforms to .ts files</li>
<li>one that runs just commonjs specific files (no transform)</li>
<li>one that runs just esm specific files (no transform)</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">commonjs project</label><label for="__tabbed_2_2">esm project</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pnpm&quot;</span><span class="w"> </span><span class="p">]</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">matchRootDir</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pkgtests&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ts/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;cjs/**/*.js&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We can&#39;t run ts-node or tsx since these aren&#39;t ts files</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We also don&#39;t want to run commonjs in esm projects so just commonjs</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">                    </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;esm/**/*.js&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We can&#39;t run ts-node or tsx since these aren&#39;t ts files</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;esm&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We also don&#39;t want to run esm in commonjs projects so just esm</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">matchRootDir</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pkgtests&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ts/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;cjs/**/*.js&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We can&#39;t run ts-node or tsx since these aren&#39;t ts files</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We also don&#39;t want to run commonjs in esm projects so just commonjs</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">                    </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;esm/**/*.js&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We can&#39;t run ts-node or tsx since these aren&#39;t ts files</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="nx">pkgManagers</span><span class="p">,</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;esm&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// We also don&#39;t want to run esm in commonjs projects so just esm</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="test-entry-options">Test Entry Options</h2>
<h3 id="testmatch">testMatch</h3>
<p>Each test entry will find and copy over all tests within the <code>matchRootDir</code> that match the glob pattern.</p>
<p>The pattern is relative to the matchRootDir and is still subject to any <code>matchIgnore</code> patterns.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">matchRootDir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">matchIgnore</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;fixtures/**/*&quot;</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;**/*.ts&quot;</span>
<span class="w">            </span><span class="c1">// other options</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
</code></pre></div>
<p>This means that only <code>.ts</code> files within <code>pkgtests</code> will be matched but none within <code>pkgtests/fixtures/</code>.</p>
<div class="highlight"><pre><span></span><code>mypkg/
<span class="w">  </span>pkgtests/
<span class="hll"><span class="w">    </span>test1.ts
</span><span class="w">    </span>someGrouping/
<span class="hll"><span class="w">      </span>test2.ts
</span><span class="hll"><span class="w">      </span>test3.ts
</span><span class="w">    </span>fixtures/
<span class="w">      </span>someConfigfile.ts
<span class="w">  </span>src/
<span class="w">    </span>index.ts
<span class="w">    </span>something.ts
<span class="w">  </span>pkgtest.config.js
<span class="w">  </span>package.json
</code></pre></div>
<h3 id="packagemanagers">packageManagers</h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
</div>
<p>The number of unique test projects created is <code>packageManagers</code> * <code>moduleTypes</code></p>
<p>The packageManagers field indicates which types of package managers we want to ensure our package works with.  Which means,
installation + running of the given scripts under that package managers running system (i.e. <code>yarn node script</code>)</p>
<h4 id="simple-package-manager-types">Simple Package Manager Types</h4>
<p>At its simplest, you can specify any of the corresponding strings TODO LINK in the PkgManager enum and pkgtest will set up a minimal
configuration of the latest package manager project.</p>
<p>This generally involves running <code>corepack use &lt;package manager&gt;@latest</code> or in the case of <code>yarn-v1</code>, <code>corepack use yarn@1,x</code>.</p>
<p>This does mean that the package manager's default configuration behavior is tested, which in some cases may not be the full functionality that
you want to test.  (The example given in <a href="./getting-started.md">getting starter</a> was that yarn plug'n'play is not the same behavior as its
other simpler and less costly <code>nodeLinker</code> modes - which for some might be fine enough when covered via <code>npm</code> and <code>pnpm</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general, simple package manager strings will test compatibility with the latest, default configuration of a package manager.
This does mean that there is a <strong>slight</strong> moving target in terms of your testing, since a new bugged release of the package manager
could suddenly cause test to fail.</p>
<p>It is this package's opinion that you should want that type of functionality so that you can get ahead of failures that might be coming
down the pipeline for your package as a result of package management tooling issues.</p>
</div>
<h4 id="advanced-package-manager-configurations">Advanced Package Manager Configurations</h4>
<p>For each simple package manager type, you can choose to create any number of advanced configurations that basically provides:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nx">packageManager</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;yarn-berry&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">alias</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;my fixed version config&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;optional fixed version&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Package Manager specific options</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>See TODO LINK for the current options api.</p>
<p>The <a href="./getting-started.md">getting-started</a> guide worked through adding an additional entry for <code>yarn berry with a node-modules nodeLinker strategy</code>.
If you'd like the details of that, please take a look there.</p>
<h5 id="example-scenario">Example Scenario</h5>
<p>In addition to adding node-modules linking, let's pretend that we work a SomeCompany Industries and that some ambitious engineer set up an entire
toolchain boilerplate around <code>pnpm</code> and ended up adding lots of wrappers that expect very specific features of the <code>9.x</code> version (there's a backlog
ticket somewhere to update the framework to support new APIs but we need to support it until then).</p>
<p>In that case, we want to make sure that our package works within the <code>9.x</code> version of <code>pnpm</code> so that we can avoid debugging other team's boilerplates
when they use our package.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nx">packageManager</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pnpm&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">alias</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;pnpm 9.x for internal framework&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;9.x&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
<p>Well that was pretty simple!  Now, we're guaranteed to make sure things work with pnpm@9.x anytime we run <code>pkgtest</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>The advanced options types are some of the least complete features for <code>pkgtest</code>.  Any suggestions for extending a
particular packageManager's setup options are welcome!  Please submit an issue and maybe a PR if you're ambitous.</p>
</div>
<h3 id="moduletypes">moduleTypes</h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
</div>
<p>The number of unique test projects created is <code>packageManagers</code> * <code>moduleTypes</code></p>
<p>The largest reason for this library actually stems fromk the commonjs to esm compatibility issues that have been around for years.
As a library package publisher, I have been bit by the "it works on my machine" problem many times over because I thought I transpiled something
for ES Modules or CommonJS only to find out that ts-node or node fails at runtime in some exotic way.  (A simple example is that we never
transformed use of <code>__filename</code> to <code>import.meta</code> based lookups or vice versa (node will halt execution immediately in commonjs mode if it sees <code>import.meta</code>)).</p>
<p>If you're trying to support commonjs and esm in your package, then the chances that you have a larger transpilation chain are pretty high.  And as such,
you'll want to make sure that the end transpiled project works nominally in other projects.</p>
<p>The moduleTypes field indicates that we want to set up a project as either a <code>commonjs</code> or <code>esm</code> project and then run the same scripts.  Under the hood,
pkgtest sets up some basic defaults (i.e. running ts-node in a compatible way with esm or setting up typescript to transpile to <code>ESNext</code> module type).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Keep in mind that, if you're not doing transformation via the typescript transform field and are instead importing explicitly written commonjs or
esm javascript files for tests, you will want to make sure that you don't run a <code>commonjs</code> project with <code>esm</code> tests, since that will fail due to
the inherent differences in code.  Please see the Test Entries example above.</p>
</div>
<h3 id="runwith">runWith</h3>
<p>As alluded to in other discussions, <code>pkgtest</code> aims to verify ways that people might try and run your library.  Currently, the supported runWith options
are TODO LINK.</p>
<p>For tools that are typescript based like <code>ts-node</code> and <code>tsx</code>, you will be required to provide a typescript transform object since <code>pkgtest</code> needs
to set up a tsconfig file.</p>
<h3 id="additionaldependencies_1">additionalDependencies</h3>
<p>Adds additional dependencies to the test projects.  This will override any top-level <code>additionalDependencies</code> as well as any tool versions that might
have been explicitly detailed in the test config enntry.</p>
<p>See the top level <code>additionalDependencies</code> for an example use case.</p>
<h3 id="transforms">transforms</h3>
<p>Transforms returns to any transformations to the supplied test file that we expect to do.  Currently, we only support typescript.</p>
<p>If transforms is specified, <code>pkgtest</code> will configure the specified tool and then run the equivalent of a build call for the tool to compile
the code to .js.</p>
<p>Transform works directly with <code>runWith</code>.  If the tool requires the transform (i.e. tsx requires typescript), it will be used directly with the tool that
runs.  If the <code>runWith</code> is something like node, where it actually relies on the output of the transform, then <code>pkgtest</code> will point each <code>node</code> call to 
the approriately compiled file as the result of the transform.</p>
<p>In general, using a typescript transform as part of a single test entry is the recommneded way to go since you can test typescript and transpile it to 
either esm or commonjs for node based tests as well.</p>
<h4 id="typescript">typescript</h4>
<p>The typescript object can be completely empty of fields if desired.  In that case, it will follow the <a href="./dependency-lookup.md">dependency lookup</a> for
any typescript related libraries.  Just like with the default package manager settings, this type of configuration may result in having a shifting target
for tooling that runs transforms (in regards to different version fields) but might be desirable from a shifting target standpoint.</p>
<p>If you do not have the required dependencies in your package.json for dependency lookup, then you will have to provide at a minimum, those missing
version values here.  This might be desirable if you don't want to pollute your package.json with tools that your project does not want to use.</p>
<p>For instance, if you want to test with <code>ts-node</code> but make the decision to only use <code>tsx</code> for running development scripts in your projects, you would
need to tell <code>pkgtest</code> what version of <code>ts-node</code> to use:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^9.0.0&#39;</span><span class="w"> </span><span class="c1">// Any npm version is allowed here - you can fix it to a specific version if you want to ensure that version works</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>The above configuration means that you don't need to list ts-node in your project's dependencies since it is not a development tool.</p>
<h4 id="config">config</h4>
<p>The config field can be provided to override tsconfig fields.</p>
<div class="admonition warn">
<p class="admonition-title">Warn</p>
<p>If you wish to override something like target, keep in mind that you will need to create multiple test entries since something like <code>ESNext</code>
does not work with a commonjs module.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.select", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tracking"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  </body>
</html>