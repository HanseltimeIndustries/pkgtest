
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="1-test-bins/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>Getting Started - @hanseltime/pkgtest</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d7758b05.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="@hanseltime/pkgtest" class="md-header__button md-logo" aria-label="@hanseltime/pkgtest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            @hanseltime/pkgtest
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/HanseltimeIndustries/pkgtest" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../User%20Guide/1-test-types/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Contributing/" class="md-tabs__link">
          
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="@hanseltime/pkgtest" class="md-nav__button md-logo" aria-label="@hanseltime/pkgtest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    @hanseltime/pkgtest
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HanseltimeIndustries/pkgtest" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-test" class="md-nav__link">
    <span class="md-ellipsis">
      Create a test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create a configuration file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a configuration file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#translating-the-above-config" class="md-nav__link">
    <span class="md-ellipsis">
      Translating the above config:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Translating the above config:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-number-of-testing-projects-created" class="md-nav__link">
    <span class="md-ellipsis">
      1. The number of testing projects created
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-scripts-that-will-be-run" class="md-nav__link">
    <span class="md-ellipsis">
      2. The scripts that will be run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-transformation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Transformation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-how-to-run-the-test-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. How to run the test files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Run the tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run the tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-the-output" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding the output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding the output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-test-suite" class="md-nav__link">
    <span class="md-ellipsis">
      File Test Suite
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-test" class="md-nav__link">
    <span class="md-ellipsis">
      File Test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-a-test" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting a test
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting a test">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thats-way-too-much-info" class="md-nav__link">
    <span class="md-ellipsis">
      That's WAY TOO MUCH Info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#but-what-do-i-do-with-the-failure" class="md-nav__link">
    <span class="md-ellipsis">
      But what do I do with the failure?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-preserve" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Preserve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-debug" class="md-nav__link">
    <span class="md-ellipsis">
      Let's debug!
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli-options" class="md-nav__link">
    <span class="md-ellipsis">
      CLI options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testmatch" class="md-nav__link">
    <span class="md-ellipsis">
      [testMatch]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-modtype" class="md-nav__link">
    <span class="md-ellipsis">
      [--modType]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pkgmanager" class="md-nav__link">
    <span class="md-ellipsis">
      [--pkgManager]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-runwith" class="md-nav__link">
    <span class="md-ellipsis">
      [--runWith]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pkgmanageralias" class="md-nav__link">
    <span class="md-ellipsis">
      [--pkgManagerAlias]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-just-one-suite-and-test" class="md-nav__link">
    <span class="md-ellipsis">
      Running just one suite and test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-yarn-berry-node-modules-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Testing yarn berry (node-modules resolution)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing yarn berry (node-modules resolution)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-package-manager-config" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new package manager config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="1-test-bins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing CLI (bin) Entries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="3-custom-scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Custom Scenarios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/1-test-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/2-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/3-environment-vars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/3-filtering-tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filtering tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/4-parallelism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallelism
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/5-ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Pkgtest in CI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/6-dependency-lookup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependencies of Test Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/7-corepack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Corepack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/81-debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/82-log-file-collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log File Collection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/91-pkgtest-clean/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pkgtest-clean
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/92-windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User%20Guide/99-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pkgtest Design
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Classes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/classes/FailFastError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FailFastError
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/classes/TestFailError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestFailError
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Enumerations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Enumerations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/CollectLogFileStages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CollectLogFileStages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/CollectLogFilesOn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CollectLogFilesOn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/ModuleTypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ModuleTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/OnWindowsProblemsAction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OnWindowsProblemsAction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/PkgManager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/RunWith/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RunWith
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/enumerations/TestType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestType
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/functions/findPkgTestProjectsByPrefix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    findPkgTestProjectsByPrefix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/functions/getTempDir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    getTempDir
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/functions/getTempProjectDirPrefix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    getTempProjectDirPrefix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/functions/run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/BinTestConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BinTestConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/BinTestEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BinTestEntry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/CreateTestProjectInfo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CreateTestProjectInfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/FileTestConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FileTestConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/InstalledTool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InstalledTool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/PkgManagerBaseOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerBaseOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/PkgManagerOptionsConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerOptionsConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/RunOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RunOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/ScriptTestConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ScriptTestConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TestConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TestConfigEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TestConfigEntry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TsNodeRun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TsNodeRun
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TsxRun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TsxRun
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/TypescriptOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TypescriptOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/interfaces/YarnV4Options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YarnV4Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type aliases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Type aliases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/AddFileCopyTo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AddFileCopyTo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/AddFileMatch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AddFileMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/AddFilePerTestProjectCreate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AddFilePerTestProjectCreate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/AdditionalFilesEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AdditionalFilesEntry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/IPreserveResourcesFn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPreserveResourcesFn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/PkgManagerOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PkgManagerOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/type-aliases/ToDir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ToDir
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Variables
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Variables
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/variables/DEFAULT_TIMEOUT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DEFAULT TIMEOUT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-test" class="md-nav__link">
    <span class="md-ellipsis">
      Create a test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create a configuration file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a configuration file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#translating-the-above-config" class="md-nav__link">
    <span class="md-ellipsis">
      Translating the above config:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Translating the above config:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-the-number-of-testing-projects-created" class="md-nav__link">
    <span class="md-ellipsis">
      1. The number of testing projects created
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-the-scripts-that-will-be-run" class="md-nav__link">
    <span class="md-ellipsis">
      2. The scripts that will be run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-transformation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Transformation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-how-to-run-the-test-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. How to run the test files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Run the tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run the tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-the-output" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding the output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding the output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-test-suite" class="md-nav__link">
    <span class="md-ellipsis">
      File Test Suite
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-test" class="md-nav__link">
    <span class="md-ellipsis">
      File Test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-a-test" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting a test
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting a test">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thats-way-too-much-info" class="md-nav__link">
    <span class="md-ellipsis">
      That's WAY TOO MUCH Info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#but-what-do-i-do-with-the-failure" class="md-nav__link">
    <span class="md-ellipsis">
      But what do I do with the failure?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-preserve" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Preserve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-debug" class="md-nav__link">
    <span class="md-ellipsis">
      Let's debug!
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering tests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli-options" class="md-nav__link">
    <span class="md-ellipsis">
      CLI options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testmatch" class="md-nav__link">
    <span class="md-ellipsis">
      [testMatch]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-modtype" class="md-nav__link">
    <span class="md-ellipsis">
      [--modType]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pkgmanager" class="md-nav__link">
    <span class="md-ellipsis">
      [--pkgManager]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-runwith" class="md-nav__link">
    <span class="md-ellipsis">
      [--runWith]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pkgmanageralias" class="md-nav__link">
    <span class="md-ellipsis">
      [--pkgManagerAlias]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-just-one-suite-and-test" class="md-nav__link">
    <span class="md-ellipsis">
      Running just one suite and test
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-yarn-berry-node-modules-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Testing yarn berry (node-modules resolution)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing yarn berry (node-modules resolution)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-package-manager-config" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new package manager config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="getting-started">Getting Started</h1>
<h2 id="install">Install</h2>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">yarn</label><label for="__tabbed_1_2">npm</label><label for="__tabbed_1_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>add<span class="w"> </span>--dev<span class="w"> </span>@hanseltime/pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>install<span class="w"> </span>--save-dev<span class="w"> </span>@hanseltime/pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>add<span class="w"> </span>--save-dev<span class="w"> </span>@hanseltime/pkgtest
</code></pre></div>
</div>
</div>
</div>
<h2 id="create-a-test">Create a test</h2>
<p>Assuming that your package.json declares a package name like:</p>
<div class="highlight"><span class="filename">package.json</span><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@myscope/mypkg&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// The rest of the package</span>
<span class="p">}</span>
</code></pre></div>
<p>You will want to create a <code>pkgtests/</code> folder in the root of the package you are hoping to test.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are using typescript, make sure to add <code>pkgtest/</code> to the <code>"exclude"</code> field of your tsconfig.  Otherwise,
typescript will run into issues trying to import the package that it is supposed to be compiling.</p>
</div>
<p>Create a file: <code>pkgtests/test1.ts</code></p>
<div class="highlight"><span class="filename">pkgtest/test1.ts</span><pre><span></span><code><span class="c1">// TODO: uncomment this with any functions you want to make sure run correctly</span>
<span class="c1">// import { todo } from &#39;@myscope/mypkg&#39;;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;This worked!&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="create-a-configuration-file">Create a configuration file</h2>
<p>Now that you have created a place to house your pkgtest tests, you should create a configuration to reference those tests.</p>
<p>Let's go ahead and create a <code>pkgtest.config.js</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">commonjs project</label><label for="__tabbed_2_2">esm project</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">rootDir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">                </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">}</span><span class="w"> </span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;pnpm&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="c1">// No additional files needed</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">locks</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">rootDir</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">                </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">}</span><span class="w"> </span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;pnpm&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="c1">// No additional files needed</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">    </span><span class="nx">locks</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="translating-the-above-config">Translating the above config:</h3>
<h4 id="1-the-number-of-testing-projects-created">1. The number of testing projects created</h4>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pnpm&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
</code></pre></div>
<p>Creates a new fake testing package for <code>yarn v1</code>, <code>yarn-berry</code>, <code>npm</code>, and <code>pnpm</code> and each as <code>commonjs</code> or <code>esm</code> package type.
This means that there will be 8 testing package folders created.</p>
<h4 id="2-the-scripts-that-will-be-run">2. The scripts that will be run</h4>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>This means that all <code>.ts</code> files in the <code>pkgtests/</code> (<code>rootDir</code>) directory will be copied into each project and run.
In our case, that is just <code>pkgtests/tests1.ts</code>.</p>
<h4 id="3-transformation">3. Transformation</h4>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>If you think about the fact that we provided a typescript file <code>test1.ts</code> as a test, there has to be
some way to translate that typescript file to actionable javascript.  Because of this, we provide the typescript
transform option with specific versions of <code>typescript</code>, <code>@types/node</code>, <code>tsx</code> and <code>tsNode</code>.  These will be the versions
installed and run for building of the typescript file or running it via <code>runWith</code> (see the following section).  This configuration
option tells pkgtest to make sure to set up a tsconfig file and use it when either compiling or running a typescript tool.</p>
<h4 id="4-how-to-run-the-test-files">4. How to run the test files</h4>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>For each testing package that was created, we will run the test files (in this case, just <code>test1.ts</code>) via the run methods
provided.</p>
<p>If we assume a <code>yarn-v1</code> project, this would look like:</p>
<table>
<thead>
<tr>
<th>runWith</th>
<th>cli call (effective)</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>yarn node dist/pkgtests/test1.js</td>
</tr>
<tr>
<td>ts-node</td>
<td>yarn ts-node src/pkgtests/test1.ts</td>
</tr>
<tr>
<td>tsx</td>
<td>yarn tsx src/pkgtests/test1.ts</td>
</tr>
</tbody>
</table>
<p>The ins and outs of the actual calls are a bit more complex, but for a "getting started" document, you can think of these as being the effective calls that run the test files you wrote.</p>
<h2 id="run-the-tests">Run the tests</h2>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">yarn</label><label for="__tabbed_3_2">npm</label><label for="__tabbed_3_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest
</code></pre></div>
</div>
</div>
</div>
<p>Take a look at the output of one test suite:</p>
<pre>
<code>Test Suite for Module commonjs, Package Manager yarn-v1 (<span style="color:magenta">pkgtest default</span>), Run with node
Test package location: /tmp/pkgTest-XXXXXXfYsl8Z
<span style="color:blue">Test:</span> pkgtests/test1.ts <span style="color:green">Passed</span> 631 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXXfYsl8Z/dist/cjs/pkgtests/test1.js
Passed: <span style="color:green">1</span>
Failed: <span style="color:red">0</span>
Skipped: 0
Not Run: 0
Total: 1
</code>
</pre>

<h3 id="understanding-the-output">Understanding the output</h3>
<h4 id="file-test-suite">File Test Suite</h4>
<p>In pkgtest, a Test Suite is a collection of same style tests in a given environment.
So far we've been working with <a href="../User%20Guide/1-test-types/#file-tests">file tests</a>, which are ways of testing your programmatic
APIs on import.
For a file test, a test suite is all files run under <code>module type</code> + <code>package manager</code>  + <code>pkg manager config alias</code> + <code>runWith</code>.<br />
The suite's test project is located in your os's temporary directory and, after all installation and compiling, it consists of
running the specific run command for the <code>runWith</code> we specified.</p>
<p>The <code>(<span style="color:magenta">pkgtest default</span>)</code> is the default pkgtest configuration of
the package manager.  For the most part, this is a good approximation of the latest package manager of x type with a minimal
project setup.  There are more advanced configuration options that allow you to add an alias for more controlled package
manager setups.</p>
<h4 id="file-test">File Test</h4>
<pre>
<code>
<span style="color:blue">Test:</span> pkgtests/test1.ts <span style="color:green">Passed</span> 631 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXXfYsl8Z/dist/cjs/pkgtests/test1.js
</code>
</pre>

<p>To avoid any confusion about failures for a given test, the actual command that <code>pkgtest</code> uses to run the test files are provided
underneath the name of the matched file that we created.</p>
<p>In this case, we can see that:</p>
<ol>
<li>pkgtest is using corepack to enforce the correct package manager version</li>
<li>we are calling node inside of the yarn v1 resolution system</li>
<li>the file we're calling is located in a <code>dist/cjs/pkgtests/test1.js</code>, which was compiled by <code>pkgtest</code> (and is tracked by <code>pkgtest</code> so you don't have to worry too much about it).</li>
</ol>
<h2 id="troubleshooting-a-test">Troubleshooting a test</h2>
<p>Now that we've seen what a working set of tests looks like, let's simulate a failing test.</p>
<p>Let's create a <code>testFail.ts</code> file in our <code>pkgTests</code> folder and write the following:</p>
<div class="highlight"><span class="filename">pkgtests/testFail.ts</span><pre><span></span><code><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;Oh no!&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Now, if we run pkgtest again, we should get failures.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>pkgtest</code> is pretty rudimentary about how tests pass.  If the exit code of a script is 0, it counts as a pass.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">yarn</label><label for="__tabbed_4_2">npm</label><label for="__tabbed_4_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest
</code></pre></div>
</div>
</div>
</div>
<p>Now when we look at one of the test suites, we can see that we have:</p>
<pre>
<code>Test Suite for Module commonjs, Package Manager yarn-v1 (<span style="color:magenta">pkgtest default</span>), Run with node
Test package location: /tmp/pkgTest-XXXXXYXfsl8ZA
<span style="color:blue">Test:</span> pkgtests/test1.ts <span style="color:green">Passed</span> 151 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXXfYsl8Z/dist/cjs/pkgtests/test1.js
<span style="color:blue">Test:</span> pkgtests/testFail.ts <span style="color:red">Failed</span> 400 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:
file:///tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:3
throw new Error('Oh no!');
      ^

Error: Oh no!
    at file:///tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:3:7
    at ModuleJob.run (node:internal/modules/esm/module_job:234:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:473:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:122:5)

Passed: <span style="color:green">1</span>
Failed: <span style="color:red">1</span>
Skipped: 0
Not Run: 0
Total: 2
</code>
</pre>

<p>Right off the bat, you can see that <code>pkgtest</code> will always print out the stdout and stderr for a failing test process.  You can also see anything that
node or the respective tool might be giving you in terms of debug outputs.</p>
<h3 id="thats-way-too-much-info">That's WAY TOO MUCH Info</h3>
<p>You may have been very annoyed to see <code>pkgtest</code> continue to spit out consistently failing test suites for every package that the config created for
us.  I am too.  By default, <code>pkgtest</code> is committed to reporting all results like most testing frameworks, however, if we just want to see if something
failed and then avoid the time cost of running everything else (maybe in CI or in our case, while debugging), we can use <code>--failFast</code>.</p>
<p>Let's re-run with:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">yarn</label><label for="__tabbed_5_2">npm</label><label for="__tabbed_5_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest<span class="w"> </span>--failFast
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest<span class="w"> </span>--failFast
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest<span class="w"> </span>--failFast
</code></pre></div>
</div>
</div>
</div>
<p>Now we can see the same test suite failure but just 1!  As soon as a single test fails, we stop the execution of that suite and we also
stop any further test suites from running.</p>
<h3 id="but-what-do-i-do-with-the-failure">But what do I do with the failure?</h3>
<p>If you were eager to debug this, you may have already tried to open the tests package that reported failure.  In the above example, that would be
<code>Test package location: /tmp/pkgTest-XXXXXYXfsl8ZA</code>.  If you did, you found out that this folder does not exist.  So what's going on?</p>
<p>Since <code>pkgtest</code> is fundamentally setting up projects on your file system (defaulting to the os temp directory), we want the program to not use up
lots of disk space.  Because of this, on every finish of the <code>pkgtest</code>, it will delete all temporary packages that it created by default.  In
our case though, we want to be able to go to the specifically configured project and understand why it's failing.</p>
<p>We can use the <code>--preserve</code> flag for this:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">yarn</label><label for="__tabbed_6_2">npm</label><label for="__tabbed_6_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest<span class="w"> </span>--failFast<span class="w"> </span>--preserve
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest<span class="w"> </span>--failFast<span class="w"> </span>--preserve
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest<span class="w"> </span>--failFast<span class="w"> </span>--preserve
</code></pre></div>
</div>
</div>
</div>
<p>Now you should see something like
:</p>
<pre>
<code>[runner] Tests failed fast
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-TsUzXm</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-5BwQKv</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-buliyv</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-1hxcGE</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-pVUKGa</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-kznGH4</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-3AAYst</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-9T6uFn</span>
</code>
</pre>

<details class="note">
<summary>Why so many folders?</summary>
<p>The way pkgtest works is that it will setup every project first (package install + transformation), before
it then runs the test files in the various directories created.  Because of this, we have more packages than
just the one that failed in <code>--failFast</code> mode.</p>
</details>
<h3 id="interactive-preserve">Interactive Preserve</h3>
<p>If you didn't like the fact that we kept all those test project folders, pkgtest also provides a <code>--ipreserve</code> flag which
stands for <code>interactive preserve</code>.</p>
<p>If you run with this flag, the process will not exit until you have answered its questions about deleting each project folder
that was created.</p>
<pre>
<code>[runner] Tests failed fast
... previous
[runner] File Test Time:      0 s
[runner] Bin Test Time:       233.697 s
 Delete pkg for entry1: [commonjs, yarn-v1 (pkgtest default)]? <span style="color:blue">No</span>
[runner] <span style="color:orange">Skipping deletion of /tmp/pkgTest-TsUzXm</span>
 Delete pkg for entry1: [commonjs, npm (pkgtest default)]? <span style="color:blue">Yes</span>
 Delete pkg for entry1: [commonjs, pnpm (pkgtest default)]? <span style="color:blue">Yes</span>
</code>
</pre>

<h3 id="lets-debug">Let's debug!</h3>
<p>Now you can open up the test folder location and do some debugging.  In our case, we can re-run the script for the test
and see what happens.</p>
<div class="highlight"><pre><span></span><code>corepack yarn@1.x node dist/cjs/pkgtests/testFail.js
</code></pre></div>
<p>In our case, we know what the error is, but if we imagine that something like <code>yarn plug'n'play</code> is throwing runtime errors when 
we import a library that is not listed in its dependencies (part of <code>strict</code> mode), then we would want to run this command and make
tweaks to our current project until the script passes.</p>
<p>In some cases, maybe a bug in a package manager or compilation tool requires some sort of work around.  In that case, you might want to
make the appropriate config options (not part of getting started) and then note that in your library's installation documentation.</p>
<h2 id="filtering-tests">Filtering tests</h2>
<p><a href="../User%20Guide/3-filtering-tests/">Complete Documentation</a></p>
<p>Now that you have a grasp on running and debugging tests, we can talk about test filtering.  Like with other test frameworks,
running all tests all the time (or even just some until the first failure), can become tedious and a time sink during development.  </p>
<h3 id="cli-options">CLI options</h3>
<p><code>pkgtest</code> provides a way for you to ensure that only particular tests and even test projects are created and run:</p>
<h4 id="testmatch">[testMatch]</h4>
<p><code>pkgtest</code> will take any number of last arguments as glob patterns to match to test files.  The glob patterns are relative to your current working
directory (the directory with your config file).  Let's see if we can reduce the noise of test output to just view the failed tests:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">yarn</label><label for="__tabbed_7_2">npm</label><label for="__tabbed_7_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p>The above command will only run the tests that result from <code>pkgtests/testFail.ts</code>:</p>
<pre>
<code>Test Suite for Module commonjs, Package Manager yarn-v1 (<span style="color:magenta">pkgtest default</span>), Run with node
Test package location: /tmp/pkgTest-XXXXXYXfsl8ZA
<span style="color:blue">Test:</span> pkgtests/test1.ts <span style="color:orange">Skipped</span> 0 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXXfYsl8Z/dist/cjs/pkgtests/test1.js
<span style="color:blue">Test:</span> pkgtests/testFail.ts <span style="color:red">Failed</span> 400 ms
        corepack yarn@1.x node /tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:
file:///tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:3
throw new Error('Oh no!');
      ^

Error: Oh no!
    at file:///tmp/pkgTest-XXXXXYXfsl8ZA/dist/cjs/pkgtests/testFail.js:3:7
    at ModuleJob.run (node:internal/modules/esm/module_job:234:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:473:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:122:5)

Passed: <span style="color:green">1</span>
Failed: <span style="color:red">1</span>
Skipped: 0
Not Run: 0
Total: 2
</code>
</pre>

<h4 id="-modtype">[--modType]</h4>
<p>This will only run the test suites that match the moduleType that you want.</p>
<p>Example: <code>--modType commonjs</code> will only run any projects configured as <code>commonjs</code></p>
<h4 id="-pkgmanager">[--pkgManager]</h4>
<p>This will only run the test suites that match the packageManager types that you want.</p>
<p>Example: <code>--modType yarn-v1</code> will only run any configurations that would use yarn-v1 in its test project</p>
<h4 id="-runwith">[--runWith]</h4>
<p>This will only run the test suites that match the type of runWith parameter.</p>
<p>Example: <code>--runWith tsx node</code> will only run any configurations that would run test files with <code>node</code> or <code>tsx</code></p>
<h4 id="-pkgmanageralias">[--pkgManagerAlias]</h4>
<p>As discussed above, since there are various package manager configurations, you can specify a specific alias for configured package manager.
This is especially helpful when you are setting up custom configurations (a good example is <code>yarn-berry</code> and its different <code>nodeLinker</code> fields).</p>
<p>By default, the non-advanced package manager configurations use the alias: <code>pkgtest default</code></p>
<p>Example: <code>--pkgManagerAlias nodeLinker</code> would only run tests in a test package that had been set up with a package manager that matched the config 
with an alias specified as <code>nodeLinker</code></p>
<h3 id="running-just-one-suite-and-test">Running just one suite and test</h3>
<p>Using the CLI options, we can now constrain pkgtest to run just 1 suite and 1 test for us to better debug.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">yarn</label><label for="__tabbed_8_2">npm</label><label for="__tabbed_8_3">pnpm</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>yarn<span class="w"> </span>pkgtest<span class="w"> </span>--modType<span class="w"> </span>esm<span class="w"> </span>--pkgManager<span class="w"> </span>pnpm<span class="w"> </span>--runWith<span class="w"> </span>tsx<span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>pkgtest<span class="w"> </span>--modType<span class="w"> </span>esm<span class="w"> </span>--pkgManager<span class="w"> </span>pnpm<span class="w"> </span>--runWith<span class="w"> </span>tsx<span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pnpm<span class="w"> </span>pkgtest<span class="w"> </span>--modType<span class="w"> </span>esm<span class="w"> </span>--pkgManager<span class="w"> </span>pnpm<span class="w"> </span>--runWith<span class="w"> </span>tsx<span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;**/testFail.ts&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<pre>
<code>...Additional skips
[runner] <span style="color:orange">Skipping Suite:</span> Test Suite for Module esm, Package Manager pnpm (<span style="color:magenta">pkgtest default</span>), Run with node
[runner] <span style="color:orange">Skipping Suite:</span> Test Suite for Module esm, Package Manager pnpm (<span style="color:magenta">pkgtest default</span>), Run with ts-node
Test Suite for Module esm, Package Manager pnpm (<span style="color:magenta">pkgtest default</span>), Run with node
Test package location: /tmp/pkgTest-4FQ1HZ
Test:  pkgtests/test1.ts <span style="color:orange">Skipped</span> 0 ms
        corepack pnpm@latest tsx --tsconfig tsconfig.esm.json /tmp/pkgTest-4FQ1HZ/src/pkgtests/test1.ts
Test:  pkgtests/testFail.ts <span style="color:red">Failed</span> 402 ms
        corepack pnpm@latest tsx --tsconfig tsconfig.esm.json /tmp/pkgTest-4FQ1HZ/src/pkgtests/testFail.ts:
file:///tmp/pkgTest-4FQ1HZ/src/pkgtests/testFail.ts:3
throw new Error("Oh no!");
      ^

Error: Oh no!
    at file:///tmp/pkgTest-4FQ1HZ/src/pkgtests/testFail.ts:3:7
    at ModuleJob.run (node:internal/modules/esm/module_job:234:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:473:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:122:5)

Node.js v20.18.2

Passed: 0
Failed: <span style="color:red">1</span>
Skipped: <span style="color:orange">1</span>
Not Run: 0
Total: 2
</code>
</pre>

<p>At the top of the CLI output, you can see all the skipped suites!</p>
<p>Also,</p>
<ul>
<li>Only the pnpm, esm project was created</li>
<li>It only ran the file test via <code>tsx</code></li>
<li>It only ran <code>testFail.ts</code></li>
</ul>
<h2 id="testing-yarn-berry-node-modules-resolution">Testing yarn berry (node-modules resolution)</h2>
<p>The pkgtest config file that we created is sufficient for testing each of the major package managers
at their latest default setting.  However, yarn berry actually implements a variety of resolution functionalities.</p>
<p>The default resolution (yarn plug'n'play) attempts to enforce things like strict dependencies and zero-installs,
but that also means that plug'n'play behaves more differently than yarn in a more traditional resolution mode.</p>
<p>One particular example, is that yarn plug'n'play in strict mode is able to do upfront dependency evaluation of
each <code>import</code>.  If the package doing the import is using a library that is not in its <code>dependencies</code> field, it will throw an early error
during run time and let you know that it won't run because the package is attempting to use a library that it does not, itself,
require.  Whether using plug'n'play or not, you will still get a failure at runTime if you have a dependency that isn't installed, but
yarn plug'n'play's message is more helpful than the traditional way of debugging a missing package (which generally involves
having to trace down a "cannot call x on undefined" message and then realizing that some transient dependency on your system
was filling the gap but not on your production system).</p>
<p>While yarn plug'n'play does provide benefits like the one detailed above, there are also performance costs and added complexity (i.e.
importing some third party library with packages incorrectly declared in devDependencies and then forcing yarn to still run it).  This means 
that, as a package maintainer, we should expect that a large number of people using yarn berry may have switched back to the simpler
<code>node-modules</code> or <code>pnpm</code> nodelinker configurations of yarn.</p>
<h3 id="adding-a-new-package-manager-config">Adding a new package manager config</h3>
<p>At this point, we've reached the limits of the simple <code>packageManager</code> strings.  We already have a <code>yarn-berry</code> entry, and that default is
yarn plug'n'play (or whatever yarn berry defaults to in the future).  So let's add another entry:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">commonjs project</label><label for="__tabbed_9_2">esm project</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">binTests</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">                </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">}</span><span class="w"> </span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;pnpm&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">alias</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;yarn berry node-modules&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">packageManager</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;yarn-berry&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">yarnrc</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">nodeLinker</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;node-modules&#39;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="c1">// No additional files needed</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">locks</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">pkgtest.config.js</span><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">entries</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fileTests</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">binTests</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                </span><span class="nx">testMatch</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;pkgtests/**/*.ts&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">runWith</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ts-node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tsx&quot;</span><span class="p">],</span>
<span class="w">                </span><span class="nx">transforms</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">typescript</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^5.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nx">tsNode</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^10.9.2&#39;</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">tsx</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^4.19.2&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nx">nodeTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^20.0.0&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">}</span><span class="w"> </span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nx">packageManagers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;yarn-v1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;yarn-berry&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;npm&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;pnpm&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">alias</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;yarn berry node-modules&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">packageManager</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;yarn-berry&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">yarnrc</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nx">nodeLinker</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;node-modules&#39;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nx">moduleTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;commonjs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;esm&quot;</span><span class="p">],</span>
<span class="w">            </span><span class="c1">// No additional files needed</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">locks</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>That's it!  Now when you run <code>pkgtest</code> you can see that there is a set of <code>yarn-berry (<span style="color:magenta">yarn berry node-modules</span>)</code> test suites that ran.  And now we are sure that both yarn and yarn operating under node-modules resolution works!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.select", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tracking"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  </body>
</html>